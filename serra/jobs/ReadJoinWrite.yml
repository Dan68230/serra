read_sales:
  class_name: AmazonS3Reader
  config:
    aws_access_key_id: AKIA3TOV3GZZHAH4MPAE
    aws_secret_access_key: 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
    bucket_name: serrademo
    file_path: sales.csv
    file_type: csv

read_ratings:
  class_name: AmazonS3Reader
  config:
    aws_access_key_id: AKIA3TOV3GZZHAH4MPAE
    aws_secret_access_key: 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
    bucket_name: serrademo
    file_path: rating_df.csv
    file_type: csv

join_tables:
  class_name: JoinTransformer
  config:
    join_type: 'inner'
    join_on:
      read_sales: id
      read_ratings: id

step_write:
  class_name: AmazonS3Writer
  config:
    input_block: join_tables
    aws_access_key_id: AKIA3TOV3GZZHAH4MPAE
    aws_secret_access_key: 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
    bucket_name: serrademo
    file_path: output.csv
    file_type: csv


